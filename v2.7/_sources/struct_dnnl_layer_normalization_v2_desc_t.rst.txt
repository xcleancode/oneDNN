.. index:: pair: struct; dnnl_layer_normalization_v2_desc_t
.. _doxid-structdnnl__layer__normalization__v2__desc__t:

struct dnnl_layer_normalization_v2_desc_t
=========================================

.. toctree::
	:hidden:

Overview
~~~~~~~~

A descriptor of a Layer Normalization operation. :ref:`More...<details-structdnnl__layer__normalization__v2__desc__t>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <dnnl_types.h>
	
	struct dnnl_layer_normalization_v2_desc_t
	{
		// fields
	
		:ref:`dnnl_primitive_kind_t<doxid-group__dnnl__api__primitives__common_1ga9878f4795e53ad8443e5c0a29e53286a>` :ref:`primitive_kind<doxid-structdnnl__layer__normalization__v2__desc__t_1a7121daa607de1a7829b8b5e148461211>`;
		:ref:`dnnl_prop_kind_t<doxid-group__dnnl__api__primitives__common_1gae3c1f22ae55645782923fbfd8b07d0c4>` :ref:`prop_kind<doxid-structdnnl__layer__normalization__v2__desc__t_1a720abf3627abd28a8ab5861c70d4ddeb>`;
		:ref:`dnnl_memory_desc_t<doxid-structdnnl__memory__desc__t>` :ref:`src_desc<doxid-structdnnl__layer__normalization__v2__desc__t_1a2d9dcbe2d4661ae81f56aac94a939f16>`;
		:ref:`dnnl_memory_desc_t<doxid-structdnnl__memory__desc__t>` :ref:`diff_src_desc<doxid-structdnnl__layer__normalization__v2__desc__t_1a1e9845b047f484eaf5949f9124ce0a26>`;
		:ref:`dnnl_memory_desc_t<doxid-structdnnl__memory__desc__t>` :ref:`data_scaleshift_desc<doxid-structdnnl__layer__normalization__v2__desc__t_1aef471791d3ffb2f9fc341b3ea12ea32c>`;
		:ref:`dnnl_memory_desc_t<doxid-structdnnl__memory__desc__t>` :target:`diff_data_scaleshift_desc<doxid-structdnnl__layer__normalization__v2__desc__t_1a4612e54001b217386a59fbb1c348c28d>`;
		:ref:`dnnl_memory_desc_t<doxid-structdnnl__memory__desc__t>` :ref:`stat_desc<doxid-structdnnl__layer__normalization__v2__desc__t_1a7e55f9baf3e3c236396e4e8ea9dd0be5>`;
		float :ref:`layer_norm_epsilon<doxid-structdnnl__layer__normalization__v2__desc__t_1ad4bf6d8b4595c16503eada837b7346f6>`;
		unsigned :target:`flags<doxid-structdnnl__layer__normalization__v2__desc__t_1a2d1a3c4876b2b8926520e3827447b209>`;
		:ref:`dnnl_memory_desc_t<doxid-structdnnl__memory__desc__t>` :ref:`dst_desc<doxid-structdnnl__layer__normalization__v2__desc__t_1a39f9de4730cc22859a05926d5aa4e603>`;
		:ref:`dnnl_memory_desc_t<doxid-structdnnl__memory__desc__t>` :ref:`diff_dst_desc<doxid-structdnnl__layer__normalization__v2__desc__t_1a7297f4eec633684af7c108e0e3c39a05>`;
	};
.. _details-structdnnl__layer__normalization__v2__desc__t:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

A descriptor of a Layer Normalization operation.

Fields
------

.. index:: pair: variable; primitive_kind
.. _doxid-structdnnl__layer__normalization__v2__desc__t_1a7121daa607de1a7829b8b5e148461211:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`dnnl_primitive_kind_t<doxid-group__dnnl__api__primitives__common_1ga9878f4795e53ad8443e5c0a29e53286a>` primitive_kind

The kind of primitive.

Used for self-identifying the primitive descriptor. Must be :ref:`dnnl_layer_normalization_v2 <doxid-group__dnnl__api__primitives__common_1gga9878f4795e53ad8443e5c0a29e53286aafc55236cc2678e54d7f3f9b0987630db>`.

.. index:: pair: variable; prop_kind
.. _doxid-structdnnl__layer__normalization__v2__desc__t_1a720abf3627abd28a8ab5861c70d4ddeb:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`dnnl_prop_kind_t<doxid-group__dnnl__api__primitives__common_1gae3c1f22ae55645782923fbfd8b07d0c4>` prop_kind

The kind of propagation.

Possible values: :ref:`dnnl_forward_training <doxid-group__dnnl__api__primitives__common_1ggae3c1f22ae55645782923fbfd8b07d0c4a992e03bebfe623ac876b3636333bbce0>`, :ref:`dnnl_forward_inference <doxid-group__dnnl__api__primitives__common_1ggae3c1f22ae55645782923fbfd8b07d0c4a2f77a568a675dec649eb0450c997856d>`, :ref:`dnnl_backward <doxid-group__dnnl__api__primitives__common_1ggae3c1f22ae55645782923fbfd8b07d0c4a326a5e31769302972e7bded555e1cc10>`, and :ref:`dnnl_backward_data <doxid-group__dnnl__api__primitives__common_1ggae3c1f22ae55645782923fbfd8b07d0c4a524dd6cb2ed9680bbd170ba15261d218>`.

.. index:: pair: variable; src_desc
.. _doxid-structdnnl__layer__normalization__v2__desc__t_1a2d9dcbe2d4661ae81f56aac94a939f16:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`dnnl_memory_desc_t<doxid-structdnnl__memory__desc__t>` src_desc

Source memory descriptor.

.. index:: pair: variable; diff_src_desc
.. _doxid-structdnnl__layer__normalization__v2__desc__t_1a1e9845b047f484eaf5949f9124ce0a26:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`dnnl_memory_desc_t<doxid-structdnnl__memory__desc__t>` diff_src_desc

Source gradient memory descriptor.

.. index:: pair: variable; data_scaleshift_desc
.. _doxid-structdnnl__layer__normalization__v2__desc__t_1aef471791d3ffb2f9fc341b3ea12ea32c:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`dnnl_memory_desc_t<doxid-structdnnl__memory__desc__t>` data_scaleshift_desc

Scale and shift data and gradient memory descriptors.

Scaleshift memory descriptor uses 2D :ref:`dnnl_ab <doxid-group__dnnl__api__memory_1gga395e42b594683adb25ed2d842bb3091da1bd907fc29344dfe7ba88336960dcf53>` format[2, normalized_dim] where 1-st dimension contains gamma parameter, 2-nd dimension contains beta parameter. Normalized_dim is equal to the last logical dimension of the data tensor across which normalization is performed.

.. index:: pair: variable; stat_desc
.. _doxid-structdnnl__layer__normalization__v2__desc__t_1a7e55f9baf3e3c236396e4e8ea9dd0be5:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`dnnl_memory_desc_t<doxid-structdnnl__memory__desc__t>` stat_desc

Mean and variance data memory descriptors.

Statistics (mean and variance) memory descriptor is the k-dimensional tensor where k is equal to data_tensor_ndims - 1 and may have any plain (stride[last_dim] == 1) user-provided format.

.. index:: pair: variable; layer_norm_epsilon
.. _doxid-structdnnl__layer__normalization__v2__desc__t_1ad4bf6d8b4595c16503eada837b7346f6:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	float layer_norm_epsilon

Layer normalization epsilon parameter.

.. index:: pair: variable; dst_desc
.. _doxid-structdnnl__layer__normalization__v2__desc__t_1a39f9de4730cc22859a05926d5aa4e603:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`dnnl_memory_desc_t<doxid-structdnnl__memory__desc__t>` dst_desc

Destination memory descriptor.

.. index:: pair: variable; diff_dst_desc
.. _doxid-structdnnl__layer__normalization__v2__desc__t_1a7297f4eec633684af7c108e0e3c39a05:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`dnnl_memory_desc_t<doxid-structdnnl__memory__desc__t>` diff_dst_desc

Destination gradient memory descriptor.

