<!-- HTML header for doxygen 1.8.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>oneDNN: CPU dispatcher control</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script src="assets/mathjax/MathJax.js?config=TeX-AMS_CHTML,dnnl"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
<link href="assets/customdoxygen.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="assets/dnn.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
   <div id="projectname">oneAPI Deep Neural Network Library (oneDNN)
   &#160;<span id="projectnumber">1.94.0</span>
   </div>
   <div id="projectbrief">Performance library for Deep Learning</div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">CPU dispatcher control </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>oneDNN uses JIT code generation to implement most of its functionality and will choose the best code based on detected processor features. Sometimes it is necessary to control which features oneDNN detects. This is sometimes useful for debugging purposes or for performance exploration. To enable this, oneDNN provides two mechanisms: an environment variable <code>DNNL_MAX_CPU_ISA</code> and a function <code><a class="el" href="group__dnnl__api__service.html#ga08734310b5f1ca794c64b6a5b944b698" title="Sets the maximal ISA the library can dispatch to on the CPU. ">dnnl::set_max_cpu_isa()</a></code>.</p>
<p>The environment variable can be set to an upper-case name of the ISA as defined by the <code><a class="el" href="group__dnnl__api__service.html#gabad017feb1850634bf3babdb68234f83" title="CPU instruction set flags. ">dnnl::cpu_isa</a></code> enumeration. For example, <code>DNNL_MAX_CPU_ISA=AVX2</code> will instruct oneDNN to dispatch code that will run on systems with Intel AVX2 instruction set support. The <code>DNNL_MAX_CPU_ISA=ALL</code> setting implies no restrictions.</p>
<p>The <code><a class="el" href="group__dnnl__api__service.html#ga08734310b5f1ca794c64b6a5b944b698" title="Sets the maximal ISA the library can dispatch to on the CPU. ">dnnl::set_max_cpu_isa()</a></code> function allows changing the ISA at run-time. The limitation is that, it is possible to set the value only before the first JIT-ed function is generated. This limitation ensures that the JIT-ed code observe consistent CPU features both during generation and execution.</p>
<p>The <code><a class="el" href="group__dnnl__api__service.html#ga3953f71c3f0126d9cc005a1ceff65e8b" title="Gets the maximal ISA the library can dispatch to on the CPU. ">dnnl::get_effective_cpu_isa()</a></code> function returns the currently used CPU ISA which is the highest available CPU ISA by default. This behavior can be overridden via the <code>DNNL_MAX_CPU_ISA</code> environment variable or by <code><a class="el" href="group__dnnl__api__service.html#ga08734310b5f1ca794c64b6a5b944b698" title="Sets the maximal ISA the library can dispatch to on the CPU. ">dnnl::set_max_cpu_isa()</a></code> function.</p>
<p>This feature can be enabled or disabled at build time. See <a class="el" href="dev_guide_build_options.html">Build Options</a> for more information. </p>
</div></div><!-- contents -->
<div class="footer">
    <div class="footer-wrapper">
        <ul id="footer-links">
            <li><a href="legal_information.html">Legal information</a></li>
        </ul>
    </div>
</div>